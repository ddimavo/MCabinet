<xf:title>–ü–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å–∫–∏–Ω</xf:title>

<xf:css>
.report-dialog {
    max-width: 600px;
    margin: 40px auto;
    padding: 30px;
    background: var(--mc-bg-card);
    border-radius: 16px;
    box-shadow: var(--mc-shadow);
}
.report-preview {
    display: flex;
    gap: 20px;
    margin-bottom: 25px;
    padding: 15px;
    background: var(--mc-bg-info);
    border-radius: 12px;
    border: 1px solid var(--mc-border-light);
}
.report-preview-image {
    width: 80px;
    height: 80px;
    flex-shrink: 0;
}
.report-preview-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 8px;
}
.report-preview-info {
    flex: 1;
}
.report-reasons {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    margin-bottom: 20px;
}
.report-reason {
    padding: 12px;
    border: 2px solid var(--mc-border);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
}
.report-reason:hover {
    border-color: var(--mc-primary);
    background: var(--mc-bg-info);
}
.report-reason input[type="radio"] {
    display: none;
}
.report-reason input[type="radio"]:checked + label {
    color: var(--mc-primary);
    font-weight: 600;
}
.report-reason label {
    cursor: pointer;
    margin: 0;
}
.report-comments {
    margin-bottom: 25px;
}
.report-comments textarea {
    width: 100%;
    min-height: 100px;
    padding: 12px;
    border: 2px solid var(--mc-border);
    border-radius: 8px;
    resize: vertical;
}
.report-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
}
</xf:css>

<div class="report-dialog">
    <h2>–ü–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å–∫–∏–Ω</h2>
    
    <div class="report-preview">
        <div class="report-preview-image">
            <img src="{$skin.preview_url}" alt="{$skin.skin_name}">
        </div>
        <div class="report-preview-info">
            <h4>{$skin.skin_name}</h4>
            <p>–ê–≤—Ç–æ—Ä: @{$skin.User.username}</p>
            <p>–ó–∞–≥—Ä—É–∂–µ–Ω: <xf:date time="$skin.upload_date" /></p>
        </div>
    </div>
    
    <xf:form action="{{ link('mcabinet/gallery/report', $skin) }}" ajax="true">
        <div class="report-reasons">
            <div class="report-reason">
                <input type="radio" name="reason" value="nsfw" id="reason_nsfw">
                <label for="reason_nsfw">üîû –ù–µ–ø—Ä–∏–µ–º–ª–µ–º—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç</label>
            </div>
            <div class="report-reason">
                <input type="radio" name="reason" value="copyright" id="reason_copyright">
                <label for="reason_copyright">¬©Ô∏è –ù–∞—Ä—É—à–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä—Å–∫–∏—Ö –ø—Ä–∞–≤</label>
            </div>
            <div class="report-reason">
                <input type="radio" name="reason" value="spam" id="reason_spam">
                <label for="reason_spam">üìß –°–ø–∞–º</label>
            </div>
            <div class="report-reason">
                <input type="radio" name="reason" value="other" id="reason_other">
                <label for="reason_other">‚ùì –î—Ä—É–≥–∞—è –ø—Ä–∏—á–∏–Ω–∞</label>
            </div>
        </div>
        
        <div class="report-comments">
            <label for="report_comments">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:</label>
            <textarea name="comments" id="report_comments" 
                     placeholder="–û–ø–∏—à–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–∏—á–∏–Ω—É –∂–∞–ª–æ–±—ã..."></textarea>
        </div>
        
        <div class="report-actions">
            <button type="submit" class="button button--primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∂–∞–ª–æ–±—É</button>
            <a href="{{ link('mcabinet/gallery') }}" class="button button--secondary">–û—Ç–º–µ–Ω–∞</a>
        </div>
    </xf:form>
</div>

<xf:js>
$(document).ready(function() {
    // –í—ã–±–æ—Ä –ø—Ä–∏—á–∏–Ω—ã –∂–∞–ª–æ–±—ã
    $('.report-reason').on('click', function() {
        $('.report-reason').removeClass('selected');
        $(this).addClass('selected');
        $(this).find('input[type="radio"]').prop('checked', true);
    });
});
</xf:js>